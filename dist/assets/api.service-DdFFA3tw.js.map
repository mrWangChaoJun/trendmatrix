{"version":3,"file":"api.service-DdFFA3tw.js","sources":["../../src/frontend/src/services/api/api.service.ts"],"sourcesContent":["import localDbService from '../db/local-db.service';\n\nclass ApiService {\n  // GET 请求 - 使用本地数据库服务\n  async get<T = any>(url: string, config?: any): Promise<T> {\n    // 根据 URL 路径返回相应的本地数据\n    if (url === '/dashboard/metrics') {\n      const metrics = await localDbService.getDashboardMetrics();\n      return { data: metrics } as T;\n    }\n\n    if (url === '/history/signals') {\n      const signals = await localDbService.getRecentSignals(config?.params?.limit || 5);\n      return { data: { data: signals } } as T;\n    }\n\n    if (url === '/solana/projects/hot') {\n      const projects = await localDbService.getHotProjects(config?.params?.limit || 5);\n      return { data: { projects } } as T;\n    }\n\n    if (url.startsWith('/signals/history/trend')) {\n      const days = parseInt(url.split('?days=')[1]) || 7;\n      const trendData = await localDbService.getSignalTrendData(days);\n      return { data: { trend: trendData } } as T;\n    }\n\n    if (url.startsWith('/solana/activity/trend')) {\n      const days = parseInt(url.split('?days=')[1]) || 7;\n      const activityData = await localDbService.getProjectActivityData(days);\n      return { data: { trend: activityData } } as T;\n    }\n\n    if (url === '/commerce/subscriptions/plans') {\n      const plans = await localDbService.getSubscriptionPlans();\n      return plans as T;\n    }\n\n    if (url === '/commerce/subscriptions') {\n      const subscriptions = await localDbService.getUserSubscriptions();\n      return subscriptions as T;\n    }\n\n    if (url.includes('/commerce/subscriptions/') && url.includes('/usage')) {\n      const usage = {\n        api_calls: 250,\n        signals_generated: 45,\n        api_rate_limit: 1000,\n        signal_limit: 100,\n        usage_percentage: {\n          api: 25,\n          signals: 45\n        }\n      };\n      return usage as T;\n    }\n\n    // 默认返回空数据\n    return {} as T;\n  }\n\n  // POST 请求 - 使用本地数据库服务\n  async post<T = any>(url: string, _data?: any, _config?: any): Promise<T> {\n    // 模拟 POST 请求\n    if (url === '/commerce/subscriptions') {\n      const subscriptions = await localDbService.getUserSubscriptions();\n      return subscriptions[0] as T;\n    }\n\n    // 默认返回空数据\n    return {} as T;\n  }\n\n  // PUT 请求 - 使用本地数据库服务\n  async put<T = any>(url: string, _data?: any, _config?: any): Promise<T> {\n    // 模拟 PUT 请求\n    if (url.includes('/commerce/subscriptions/')) {\n      const subscriptions = await localDbService.getUserSubscriptions();\n      return subscriptions[0] as T;\n    }\n\n    // 默认返回空数据\n    return {} as T;\n  }\n\n  // DELETE 请求 - 使用本地数据库服务\n  async delete<T = any>(url: string, _config?: any): Promise<T> {\n    // 模拟 DELETE 请求\n    if (url.includes('/commerce/subscriptions/')) {\n      return { message: 'Subscription cancelled successfully' } as T;\n    }\n\n    // 默认返回空数据\n    return {} as T;\n  }\n\n  // PATCH 请求 - 使用本地数据库服务\n  async patch<T = any>(_url: string, _data?: any, _config?: any): Promise<T> {\n    // 默认返回空数据\n    return {} as T;\n  }\n}\n\nexport const apiService = new ApiService();\nexport default apiService;\n"],"names":["ApiService","url","config","localDbService","_a","_b","days","_data","_config","_url","apiService"],"mappings":"mDAEA,MAAMA,CAAW,CAEf,MAAM,IAAaC,EAAaC,EAA0B,SAExD,GAAID,IAAQ,qBAEV,MAAO,CAAE,KADO,MAAME,EAAe,oBAAA,CACtB,EAGjB,GAAIF,IAAQ,mBAEV,MAAO,CAAE,KAAM,CAAE,KADD,MAAME,EAAe,mBAAiBC,EAAAF,GAAA,YAAAA,EAAQ,SAAR,YAAAE,EAAgB,QAAS,CAAC,EACjD,EAGjC,GAAIH,IAAQ,uBAEV,MAAO,CAAE,KAAM,CAAE,SADA,MAAME,EAAe,iBAAeE,EAAAH,GAAA,YAAAA,EAAQ,SAAR,YAAAG,EAAgB,QAAS,CAAC,EACrD,EAG5B,GAAIJ,EAAI,WAAW,wBAAwB,EAAG,CAC5C,MAAMK,EAAO,SAASL,EAAI,MAAM,QAAQ,EAAE,CAAC,CAAC,GAAK,EAEjD,MAAO,CAAE,KAAM,CAAE,MADC,MAAME,EAAe,mBAAmBG,CAAI,EAC5B,CACpC,CAEA,GAAIL,EAAI,WAAW,wBAAwB,EAAG,CAC5C,MAAMK,EAAO,SAASL,EAAI,MAAM,QAAQ,EAAE,CAAC,CAAC,GAAK,EAEjD,MAAO,CAAE,KAAM,CAAE,MADI,MAAME,EAAe,uBAAuBG,CAAI,EAChC,CACvC,CAEA,OAAIL,IAAQ,gCACI,MAAME,EAAe,qBAAA,EAIjCF,IAAQ,0BACY,MAAME,EAAe,qBAAA,EAIzCF,EAAI,SAAS,0BAA0B,GAAKA,EAAI,SAAS,QAAQ,EACrD,CACZ,UAAW,IACX,kBAAmB,GACnB,eAAgB,IAChB,aAAc,IACd,iBAAkB,CAChB,IAAK,GACL,QAAS,EAAA,CACX,EAMG,CAAA,CACT,CAGA,MAAM,KAAcA,EAAaM,EAAaC,EAA2B,CAEvE,OAAIP,IAAQ,2BACY,MAAME,EAAe,qBAAA,GACtB,CAAC,EAIjB,CAAA,CACT,CAGA,MAAM,IAAaF,EAAaM,EAAaC,EAA2B,CAEtE,OAAIP,EAAI,SAAS,0BAA0B,GACnB,MAAME,EAAe,qBAAA,GACtB,CAAC,EAIjB,CAAA,CACT,CAGA,MAAM,OAAgBF,EAAaO,EAA2B,CAE5D,OAAIP,EAAI,SAAS,0BAA0B,EAClC,CAAE,QAAS,qCAAA,EAIb,CAAA,CACT,CAGA,MAAM,MAAeQ,EAAcF,EAAaC,EAA2B,CAEzE,MAAO,CAAA,CACT,CACF,CAEO,MAAME,EAAa,IAAIV"}