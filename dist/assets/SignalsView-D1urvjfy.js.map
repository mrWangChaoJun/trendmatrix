{"version":3,"file":"SignalsView-D1urvjfy.js","sources":["../../src/frontend/src/views/signals/SignalsView.vue"],"sourcesContent":["<template>\n  <div class=\"container mx-auto px-4 py-6\">\n    <h1 class=\"text-2xl font-bold text-primary dark:text-white\">TrendMatrix</h1>\n    <p class=\"text-gray-600 dark:text-gray-400 mt-1\">实时信号和市场趋势</p>\n\n    <!-- 筛选和搜索 -->\n    <div class=\"flex flex-col md:flex-row justify-between items-start md:items-center mt-6 gap-4\">\n      <div class=\"relative\">\n        <input\n          type=\"text\"\n          v-model=\"searchTerm\"\n          placeholder=\"搜索资产...\"\n          class=\"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white\"\n        >\n        <svg class=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" width=\"16\" height=\"16\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"></path>\n        </svg>\n      </div>\n      <div class=\"relative\">\n        <select\n          v-model=\"selectedSignalType\"\n          class=\"pl-4 pr-10 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white\"\n        >\n          <option value=\"\">所有类型</option>\n          <option value=\"trend\">趋势</option>\n          <option value=\"momentum\">动量</option>\n          <option value=\"reversal\">反转</option>\n          <option value=\"volume\">交易量</option>\n        </select>\n        <svg class=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" width=\"16\" height=\"16\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path>\n        </svg>\n      </div>\n    </div>\n\n    <!-- 信号列表 -->\n    <div class=\"mt-6 overflow-x-auto\">\n      <table class=\"min-w-full bg-white dark:bg-gray-800 rounded-lg overflow-hidden\">\n        <thead class=\"bg-gray-100 dark:bg-gray-700\">\n          <tr>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">资产</th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">类型</th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">强度</th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">时间</th>\n          </tr>\n        </thead>\n        <tbody class=\"divide-y divide-gray-200 dark:divide-gray-700\">\n          <tr v-for=\"signal in filteredSignals\" :key=\"signal.id\" class=\"hover:bg-gray-50 dark:hover:bg-gray-700\">\n            <td class=\"px-6 py-4 whitespace-nowrap\">\n              <div class=\"text-sm font-medium text-gray-900 dark:text-white\">{{ signal.asset }}</div>\n            </td>\n            <td class=\"px-6 py-4 whitespace-nowrap\">\n              <span :class=\"['inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium', getSignalTypeClass(signal.type)]\">\n                {{ signal.type }}\n              </span>\n            </td>\n            <td class=\"px-6 py-4 whitespace-nowrap\">\n              <div class=\"flex items-center\">\n                <div class=\"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2\">\n                  <div :class=\"['h-2 rounded-full', getSignalStrengthClass(signal.strength)]\" :style=\"{ width: signal.strength + '%' }\"></div>\n                </div>\n                <span class=\"ml-2 text-xs text-gray-600 dark:text-gray-400\">{{ signal.strength }}%</span>\n              </div>\n            </td>\n            <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400\">\n              {{ formatTime(signal.timestamp) }}\n            </td>\n            <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted } from 'vue';\nimport { localDbService } from '@/services/db/local-db.service';\n\n// 响应式数据\nconst searchTerm = ref('');\nconst selectedSignalType = ref('');\nconst signals = ref<any[]>([]);\nconst isLoading = ref(false);\n\n// 计算属性\nconst filteredSignals = computed(() => {\n  return signals.value.filter(signal => {\n    const matchesSearch = signal.asset.toLowerCase().includes(searchTerm.value.toLowerCase());\n    const matchesType = !selectedSignalType.value || signal.type === selectedSignalType.value;\n    return matchesSearch && matchesType;\n  });\n});\n\n// 加载数据\nconst loadData = async () => {\n  isLoading.value = true;\n  try {\n    // 获取信号数据\n    const signalData = await localDbService.getRecentSignals(20); // 获取更多信号\n    signals.value = signalData;\n  } catch (error) {\n    console.error('Error loading signals:', error);\n  } finally {\n    isLoading.value = false;\n  }\n};\n\n// 获取信号类型的样式类\nconst getSignalTypeClass = (type: string) => {\n  const typeClasses: Record<string, string> = {\n    trend: 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200',\n    momentum: 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200',\n    reversal: 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200',\n    volume: 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200'\n  };\n  return typeClasses[type] || 'bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200';\n};\n\n// 获取信号强度的样式类\nconst getSignalStrengthClass = (strength: number) => {\n  if (strength >= 80) return 'bg-green-500';\n  if (strength >= 60) return 'bg-yellow-500';\n  if (strength >= 40) return 'bg-orange-500';\n  return 'bg-red-500';\n};\n\n// 格式化时间\nconst formatTime = (timestamp: string) => {\n  return new Intl.DateTimeFormat('zh-CN', {\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit',\n    hour: '2-digit',\n    minute: '2-digit'\n  }).format(new Date(timestamp));\n};\n\n// 生命周期钩子\nonMounted(() => {\n  // 初始化时直接加载数据\n  loadData();\n});\n</script>\n\n<style scoped>\n/* 组件特定样式 */\n</style>\n"],"names":["searchTerm","ref","selectedSignalType","signals","isLoading","filteredSignals","computed","signal","matchesSearch","matchesType","loadData","signalData","localDbService","error","getSignalTypeClass","type","getSignalStrengthClass","strength","formatTime","timestamp","onMounted","_openBlock","_createElementBlock","_hoisted_1","_cache","_createElementVNode","_hoisted_2","_hoisted_3","$event","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_Fragment","_renderList","_hoisted_8","_hoisted_9","_toDisplayString","_hoisted_10","_normalizeClass","_hoisted_11","_hoisted_12","_hoisted_13","_normalizeStyle","_hoisted_14","_hoisted_15"],"mappings":"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"}