import{d as f,c as d,a as e,z as a,t as m,e as b,C as y,w as l,l as c,A as k,b as n,m as w,p as v,g as h,q as _,j as i,B as V,_ as C}from"./index-DsZW1VjG.js";import{u as M}from"./auth.store-BU3Vv8ta.js";import"./api.service-DdFFA3tw.js";import"./local-db.service-WB126Blj.js";const j={class:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900"},B={class:"w-full max-w-md"},N={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-8"},S={key:0,class:"mb-4 p-3 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-md"},T={class:"form-group"},q={class:"form-group"},L={class:"flex items-center justify-between"},U={class:"flex items-center"},A=["disabled"],D={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 border-2 border-white border-t-transparent rounded-full"},z={class:"text-center mt-4"},E={class:"text-sm text-gray-600 dark:text-gray-400"},I=f({__name:"LoginView",setup(R){const p=V(),s=M(),r=h({email:"",password:"",remember:!1}),x=async()=>{try{await s.login(r.value.email,r.value.password),p.push("/")}catch(u){console.error("登录失败:",u)}};return(u,t)=>{const g=_("router-link");return i(),d("div",j,[e("div",B,[e("div",N,[t[9]||(t[9]=e("div",{class:"text-center mb-6"},[e("h1",{class:"text-2xl font-bold text-primary dark:text-white"},"TrendMatrix"),e("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"登录到 TrendMatrix")],-1)),a(s).error?(i(),d("div",S,m(a(s).error),1)):b("",!0),e("form",{onSubmit:y(x,["prevent"]),class:"space-y-4"},[e("div",T,[t[3]||(t[3]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"邮箱",-1)),l(e("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=o=>r.value.email=o),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"请输入邮箱地址",required:""},null,512),[[c,r.value.email]])]),e("div",q,[t[4]||(t[4]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"密码",-1)),l(e("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=o=>r.value.password=o),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"请输入密码",required:""},null,512),[[c,r.value.password]])]),e("div",L,[e("div",U,[l(e("input",{type:"checkbox",id:"remember","onUpdate:modelValue":t[2]||(t[2]=o=>r.value.remember=o),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded dark:bg-gray-700 dark:border-gray-600"},null,512),[[k,r.value.remember]]),t[5]||(t[5]=e("label",{for:"remember",class:"ml-2 block text-sm text-gray-900 dark:text-gray-300"},"记住我",-1))]),t[6]||(t[6]=e("div",{class:"text-sm"},[e("a",{href:"#",class:"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300"},"忘记密码?")],-1))]),e("div",null,[e("button",{type:"submit",disabled:a(s).loading,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[a(s).loading?(i(),d("span",D)):b("",!0),n(" "+m(a(s).loading?"登录中...":"登录"),1)],8,A)]),e("div",z,[e("p",E,[t[8]||(t[8]=n(" 还没有账户? ",-1)),w(g,{to:"/auth/register",class:"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300"},{default:v(()=>[...t[7]||(t[7]=[n("注册",-1)])]),_:1})])])],32)])])])}}}),K=C(I,[["__scopeId","data-v-cc80c62f"]]);export{K as default};
//# sourceMappingURL=LoginView-B4oLJN3s.js.map
