{"version":3,"file":"SolanaDefiView-xdhPORe8.js","sources":["../../src/frontend/src/views/solana/SolanaDefiView.vue"],"sourcesContent":["<template>\n  <div class=\"container mx-auto px-4 py-6\">\n    <h1 class=\"text-2xl font-bold text-primary dark:text-white\">TrendMatrix</h1>\n    <p class=\"text-gray-600 dark:text-gray-400 mt-1\">Solana DeFi 协议分析</p>\n\n    <!-- 市场概览指标 -->\n    <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6\">\n      <div class=\"bg-white dark:bg-gray-800 rounded-lg p-4 shadow\">\n        <h3 class=\"text-sm font-medium text-gray-500 dark:text-gray-400\">总协议数</h3>\n        <p class=\"text-2xl font-bold text-gray-900 dark:text-white\">{{ protocols.length }}</p>\n      </div>\n      <div class=\"bg-white dark:bg-gray-800 rounded-lg p-4 shadow\">\n        <h3 class=\"text-sm font-medium text-gray-500 dark:text-gray-400\">总锁仓价值 (TVL)</h3>\n        <p class=\"text-2xl font-bold text-gray-900 dark:text-white\">${{ totalTvl.toLocaleString() }}</p>\n      </div>\n      <div class=\"bg-white dark:bg-gray-800 rounded-lg p-4 shadow\">\n        <h3 class=\"text-sm font-medium text-gray-500 dark:text-gray-400\">24h 总交易量</h3>\n        <p class=\"text-2xl font-bold text-gray-900 dark:text-white\">${{ totalVolume.toLocaleString() }}</p>\n      </div>\n    </div>\n\n    <!-- 筛选和搜索 -->\n    <div class=\"flex flex-col md:flex-row justify-between items-start md:items-center mt-6 gap-4\">\n      <div class=\"relative\">\n        <input\n          type=\"text\"\n          v-model=\"searchTerm\"\n          placeholder=\"搜索协议...\"\n          class=\"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white\"\n        >\n        <svg class=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" width=\"16\" height=\"16\">\n          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"></path>\n        </svg>\n      </div>\n      <div class=\"flex items-center gap-2\">\n        <label class=\"text-sm font-medium text-gray-700 dark:text-gray-300\">分类:</label>\n        <select v-model=\"selectedCategory\" class=\"border border-gray-300 dark:border-gray-700 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white\">\n          <option value=\"\">全部</option>\n          <option value=\"AMM\">AMM</option>\n          <option value=\"DEX\">DEX</option>\n          <option value=\"Staking\">Staking</option>\n          <option value=\"Aggregator\">Aggregator</option>\n          <option value=\"DNS\">DNS</option>\n        </select>\n      </div>\n    </div>\n\n    <!-- DeFi 协议表格 -->\n    <div class=\"mt-6 overflow-x-auto\">\n      <table class=\"min-w-full bg-white dark:bg-gray-800 rounded-lg overflow-hidden\">\n        <thead class=\"bg-gray-100 dark:bg-gray-700\">\n          <tr>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">协议名称</th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">分类</th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">TVL</th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">24h 交易量</th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">24h 变化</th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">用户数</th>\n            <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\">链接</th>\n          </tr>\n        </thead>\n        <tbody class=\"divide-y divide-gray-200 dark:divide-gray-700\">\n          <tr v-for=\"protocol in filteredProtocols\" :key=\"protocol.id\" class=\"hover:bg-gray-50 dark:hover:bg-gray-700\">\n            <td class=\"px-6 py-4 whitespace-nowrap\">\n              <div class=\"text-sm font-medium text-gray-900 dark:text-white\">{{ protocol.name }}</div>\n            </td>\n            <td class=\"px-6 py-4 whitespace-nowrap\">\n              <span class=\"px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200\">{{ protocol.category }}</span>\n            </td>\n            <td class=\"px-6 py-4 whitespace-nowrap\">\n              <div class=\"text-sm text-gray-900 dark:text-white\">${{ protocol.tvl.toLocaleString() }}</div>\n            </td>\n            <td class=\"px-6 py-4 whitespace-nowrap\">\n              <div class=\"text-sm text-gray-900 dark:text-white\">${{ protocol.volume_24h.toLocaleString() }}</div>\n            </td>\n            <td class=\"px-6 py-4 whitespace-nowrap\">\n              <span :class=\"protocol.change_24h >= 0 ? 'text-green-600 dark:text-green-400' : 'text-red-600 dark:text-red-400'\">\n                {{ protocol.change_24h >= 0 ? '+' : '' }}{{ protocol.change_24h }}%\n              </span>\n            </td>\n            <td class=\"px-6 py-4 whitespace-nowrap\">\n              <div class=\"text-sm text-gray-900 dark:text-white\">{{ protocol.users.toLocaleString() }}</div>\n            </td>\n            <td class=\"px-6 py-4 whitespace-nowrap\">\n              <div class=\"flex space-x-2\">\n                <a :href=\"protocol.url\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"text-blue-500 hover:text-blue-700\">\n                  <svg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path fill-rule=\"evenodd\" d=\"M4.083 9h1.946c.089-1.546.383-2.97.837-4.118A6.004 6.004 0 004.083 9zM10 2a8 8 0 100 16 8 8 0 000-16zm0 2c-.076 0-.232.032-.465.262-.238.234-.497.623-.737 1.182-.389.907-.673 2.142-.766 3.556h3.936c-.093-1.414-.377-2.649-.766-3.556-.24-.56-.5-.948-.737-1.182C10.232 4.032 10.076 4 10 4zm3.971 5c-.089-1.546-.383-2.97-.837-4.118A6.004 6.004 0 0115.917 9h-1.946zm-2.003 2H8.032c.093 1.414.377 2.649.766 3.556.24.56.5.948.737 1.182.233.23.389.262.465.262.076 0 .232-.032.465-.262.238-.234.498-.623.737-1.182.39-.907.673-2.142.766-3.556zm1.166 4.118c.454-1.147.748-2.572.837-4.118h1.946a6.004 6.004 0 01-2.783 4.118zm-6.268 0C6.412 14.97 6.118 13.546 6.03 12H4.083a6.004 6.004 0 002.783 4.118z\" clip-rule=\"evenodd\"></path>\n                  </svg>\n                </a>\n                <a :href=\"protocol.twitter\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"text-blue-400 hover:text-blue-500\">\n                  <svg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path d=\"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84\"></path>\n                  </svg>\n                </a>\n                <a v-if=\"protocol.github\" :href=\"protocol.github\" target=\"_blank\" rel=\"noopener noreferrer\" class=\"text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white\">\n                  <svg class=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n                    <path fill-rule=\"evenodd\" d=\"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z\" clip-rule=\"evenodd\"></path>\n                  </svg>\n                </a>\n              </div>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { ref, computed, onMounted } from 'vue';\nimport { localDbService, DefiProtocol } from '@/services/db/local-db.service';\n\nconst protocols = ref<DefiProtocol[]>([]);\nconst searchTerm = ref('');\nconst selectedCategory = ref('');\n\n// 计算属性\nconst filteredProtocols = computed(() => {\n  return protocols.value.filter(protocol => {\n    const matchesSearch = protocol.name.toLowerCase().includes(searchTerm.value.toLowerCase());\n    const matchesCategory = !selectedCategory.value || protocol.category === selectedCategory.value;\n    return matchesSearch && matchesCategory;\n  });\n});\n\nconst totalTvl = computed(() => {\n  return protocols.value.reduce((sum, protocol) => sum + protocol.tvl, 0);\n});\n\nconst totalVolume = computed(() => {\n  return protocols.value.reduce((sum, protocol) => sum + protocol.volume_24h, 0);\n});\n\n// 生命周期钩子\nonMounted(async () => {\n  try {\n    protocols.value = await localDbService.getDefiProtocols();\n  } catch (error) {\n    console.error('Error fetching DeFi protocols:', error);\n  }\n});\n</script>\n\n<style scoped>\n/* 组件特定样式 */\n</style>\n"],"names":["protocols","ref","searchTerm","selectedCategory","filteredProtocols","computed","protocol","matchesSearch","matchesCategory","totalTvl","sum","totalVolume","onMounted","localDbService","error","_openBlock","_createElementBlock","_hoisted_1","_cache","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","$event","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_Fragment","_renderList","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_normalizeClass","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27"],"mappings":"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"}