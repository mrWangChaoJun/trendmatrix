import{d as k,o as h,c as d,a as t,w as g,l as b,v as w,f as _,F as S,r as C,g as o,h as T,j as i,t as n,n as c,k as D,_ as M}from"./index-DsZW1VjG.js";import{l as V}from"./local-db.service-WB126Blj.js";const B={class:"container mx-auto px-4 py-6"},j={class:"flex flex-col md:flex-row justify-between items-start md:items-center mt-6 gap-4"},z={class:"relative"},L={class:"relative"},F={class:"mt-6 overflow-x-auto"},N={class:"min-w-full bg-white dark:bg-gray-800 rounded-lg overflow-hidden"},E={class:"divide-y divide-gray-200 dark:divide-gray-700"},I={class:"px-6 py-4 whitespace-nowrap"},U={class:"text-sm font-medium text-gray-900 dark:text-white"},R={class:"px-6 py-4 whitespace-nowrap"},q={class:"px-6 py-4 whitespace-nowrap"},A={class:"flex items-center"},G={class:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-2"},H={class:"ml-2 text-xs text-gray-600 dark:text-gray-400"},J={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 dark:text-gray-400"},K=k({__name:"SignalsView",setup(O){const l=o(""),s=o(""),p=o([]),u=o(!1),x=T(()=>p.value.filter(r=>{const e=r.asset.toLowerCase().includes(l.value.toLowerCase()),a=!s.value||r.type===s.value;return e&&a})),y=async()=>{u.value=!0;try{const r=await V.getRecentSignals(20);p.value=r}catch(r){console.error("Error loading signals:",r)}finally{u.value=!1}},m=r=>({trend:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",momentum:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",reversal:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",volume:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"})[r]||"bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-200",v=r=>r>=80?"bg-green-500":r>=60?"bg-yellow-500":r>=40?"bg-orange-500":"bg-red-500",f=r=>new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(new Date(r));return h(()=>{y()}),(r,e)=>(i(),d("div",B,[e[7]||(e[7]=t("h1",{class:"text-2xl font-bold text-primary dark:text-white"},"TrendMatrix",-1)),e[8]||(e[8]=t("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"实时信号和市场趋势",-1)),t("div",j,[t("div",z,[g(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),placeholder:"搜索资产...",class:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white"},null,512),[[b,l.value]]),e[2]||(e[2]=t("svg",{class:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"16",height:"16"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1))]),t("div",L,[g(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>s.value=a),class:"pl-4 pr-10 py-2 border border-gray-300 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-800 dark:text-white"},[...e[3]||(e[3]=[_('<option value="" data-v-9d998588>所有类型</option><option value="trend" data-v-9d998588>趋势</option><option value="momentum" data-v-9d998588>动量</option><option value="reversal" data-v-9d998588>反转</option><option value="volume" data-v-9d998588>交易量</option>',5)])],512),[[w,s.value]]),e[4]||(e[4]=t("svg",{class:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",width:"16",height:"16"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1))])]),t("div",F,[t("table",N,[e[6]||(e[6]=t("thead",{class:"bg-gray-100 dark:bg-gray-700"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"资产"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"类型"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"强度"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},"时间")])],-1)),t("tbody",E,[(i(!0),d(S,null,C(x.value,a=>(i(),d("tr",{key:a.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",I,[t("div",U,n(a.asset),1)]),t("td",R,[t("span",{class:c(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",m(a.type)])},n(a.type),3)]),t("td",q,[t("div",A,[t("div",G,[t("div",{class:c(["h-2 rounded-full",v(a.strength)]),style:D({width:a.strength+"%"})},null,6)]),t("span",H,n(a.strength)+"%",1)])]),t("td",J,n(f(a.timestamp)),1),e[5]||(e[5]=t("td",{class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},null,-1))]))),128))])])])]))}}),W=M(K,[["__scopeId","data-v-9d998588"]]);export{W as default};
//# sourceMappingURL=SignalsView-BcKVVJnn.js.map
