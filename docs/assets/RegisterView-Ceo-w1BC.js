import{d as y,c as u,b as e,u as a,t as g,k as m,s as k,l as d,y as n,v as w,i as l,e as v,w as h,f as _,p as V,g as P,h as i,m as q,_ as C}from"./index-C-TcrSO1.js";import{u as U}from"./auth.store-BpggtxBG.js";import"./api.service-BvZdgALs.js";const M={class:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900"},N={class:"w-full max-w-md"},R={class:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-8"},S={key:0,class:"mb-4 p-3 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-md"},B={key:1,class:"mb-4 p-3 bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 rounded-md"},j={class:"form-group"},D={class:"form-group"},E={class:"form-group"},T={class:"form-group"},A={class:"flex items-center"},I=["disabled"],z={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 border-2 border-white border-t-transparent rounded-full"},F={class:"text-center mt-4"},G={class:"text-sm text-gray-600 dark:text-gray-400"},H=y({__name:"RegisterView",setup(J){const f=q(),o=U(),t=_({username:"",email:"",password:"",confirmPassword:"",terms:!1}),b=V(()=>t.value.password&&t.value.confirmPassword&&t.value.password!==t.value.confirmPassword),c=async()=>{if(o.clearError(),!b.value)try{await o.register(t.value.username,t.value.email,t.value.password),f.push("/")}catch(p){console.error("注册失败:",p)}};return(p,r)=>{const x=P("router-link");return i(),u("div",M,[e("div",N,[e("div",R,[r[12]||(r[12]=e("div",{class:"text-center mb-6"},[e("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"},"注册"),e("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"创建新账户")],-1)),a(o).error?(i(),u("div",S,g(a(o).error),1)):m("",!0),b.value?(i(),u("div",B," 两次输入的密码不一致 ")):m("",!0),e("form",{onSubmit:k(c,["prevent"]),class:"space-y-4"},[e("div",j,[r[5]||(r[5]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"用户名",-1)),d(e("input",{type:"text",id:"name","onUpdate:modelValue":r[0]||(r[0]=s=>t.value.username=s),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"请输入用户名",required:""},null,512),[[n,t.value.username]])]),e("div",D,[r[6]||(r[6]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"邮箱",-1)),d(e("input",{type:"email",id:"email","onUpdate:modelValue":r[1]||(r[1]=s=>t.value.email=s),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"请输入邮箱地址",required:""},null,512),[[n,t.value.email]])]),e("div",E,[r[7]||(r[7]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"密码",-1)),d(e("input",{type:"password",id:"password","onUpdate:modelValue":r[2]||(r[2]=s=>t.value.password=s),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"请输入密码",required:"",minlength:"6"},null,512),[[n,t.value.password]])]),e("div",T,[r[8]||(r[8]=e("label",{for:"confirmPassword",class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"},"确认密码",-1)),d(e("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":r[3]||(r[3]=s=>t.value.confirmPassword=s),class:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white",placeholder:"请再次输入密码",required:"",minlength:"6"},null,512),[[n,t.value.confirmPassword]])]),e("div",A,[d(e("input",{type:"checkbox",id:"terms","onUpdate:modelValue":r[4]||(r[4]=s=>t.value.terms=s),class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded dark:bg-gray-700 dark:border-gray-600",required:""},null,512),[[w,t.value.terms]]),r[9]||(r[9]=e("label",{for:"terms",class:"ml-2 block text-sm text-gray-900 dark:text-gray-300"},[l(" 我同意 "),e("a",{href:"#",class:"text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300"},"服务条款"),l(" 和 "),e("a",{href:"#",class:"text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300"},"隐私政策")],-1))]),e("div",null,[e("button",{type:"submit",disabled:a(o).loading,class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"},[a(o).loading?(i(),u("span",z)):m("",!0),l(" "+g(a(o).loading?"注册中...":"注册"),1)],8,I)]),e("div",F,[e("p",G,[r[11]||(r[11]=l(" 已有账户? ",-1)),v(x,{to:"/auth/login",class:"font-medium text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300"},{default:h(()=>[...r[10]||(r[10]=[l("登录",-1)])]),_:1})])])],32)])])])}}}),Q=C(H,[["__scopeId","data-v-30add43d"]]);export{Q as default};
//# sourceMappingURL=RegisterView-Ceo-w1BC.js.map
